{"version":3,"file":"is-online.umd.js","sources":["../index.js"],"sourcesContent":["'use strict';\n\nconst got = require('got');\nconst publicIp = require('public-ip');\nconst pAny = require('p-any');\nconst pTimeout = require('p-timeout');\n\nconst defaults = {\n\ttimeout: 5000,\n\tversion: 'v4'\n};\n\nfunction appleCheck(options) {\n\treturn got('http://captive.apple.com/hotspot-detect.html', {\n\t\tfamily: options.version === 'v4' ? 4 : 6,\n\t\theaders: {'User-Agent': 'CaptiveNetworkSupport/1.0 wispr'}\n\t}).then(res => /Success/.test(res.body || '') || Promise.reject());\n}\n\nmodule.exports = options => {\n\toptions = Object.assign({}, defaults, options);\n\n\tconst p = pAny([\n\t\tpublicIp[options.version]().then(() => true),\n\t\tpublicIp[options.version]({https: true}).then(() => true),\n\t\tappleCheck(options)\n\t]);\n\n\treturn pTimeout(p, options.timeout).catch(() => false);\n};\n"],"names":["const"],"mappings":";;;;;CAEAA,IAAM,MAAM,OAAA,CAAQ;CACpBA,IAAM,WAAW,OAAA,CAAQ;CACzBA,IAAM,OAAO,OAAA,CAAQ;CACrBA,IAAM,WAAW,OAAA,CAAQ;CAEzBA,IAAM,WAAW;KAChB,SAAS,IADO;KAEhB,SAAS;;CAGV,SAAS,WAAW,SAAS;KAC5B,OAAO,GAAA,CAAI,gDAAgD;SAC1D,QAAQ,OAAA,CAAQ,OAAR,KAAoB,IAApB,GAA2B,IAAI,CADmB;SAE1D,SAAS;aAAC,cAAc;;OAFlB,CAGJ,IAHI,WAGC,cAAO,SAAA,CAAU,IAAV,CAAe,GAAA,CAAI,IAAJ,IAAY,GAA3B,IAAkC,OAAA,CAAQ,MAAR;;;CAGlD,MAAA,CAAO,OAAP,cAAiB;KAChB,OAAA,GAAU,MAAA,CAAO,MAAP,CAAc,IAAI,UAAU;KAEtCA,IAAM,IAAI,IAAA,CAAK,CACd,QAAA,CAAS,OAAA,CAAQ,QAAjB,EAAA,CAA4B,IAA5B,aAAiC,SAAM,SACvC,QAAA,CAAS,OAAA,CAAQ,QAAjB,CAA0B;SAAC,OAAO;OAAlC,CAAyC,IAAzC,aAA8C,SAAM,SACpD,UAAA,CAAW;KAGZ,OAAO,QAAA,CAAS,GAAG,OAAA,CAAQ,QAApB,CAA6B,KAA7B,aAAmC,SAAM;;;;;"}